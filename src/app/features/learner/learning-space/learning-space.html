<div class="learning-space-container animate-fade-in">
    <!-- Ultra-Premium Welcome Hero -->
    <div class="welcome-hero-premium mb-12">
        <div class="hero-content">
            <div class="hero-text-area">
                <div class="flex items-center gap-2 mb-3">
                    <span class="pulse-dot"></span>
                    <span class="text-[10px] font-black text-white uppercase tracking-[0.2em]">Active Session</span>
                </div>
                <h1 class="text-4xl font-black tracking-tight text-white mb-3">Welcome back, Alex! ðŸ‘‹</h1>
                <p class="text-indigo-100 font-medium max-w-md">You're on fire! You've crushed <span
                        class="text-white font-black underline decoration-indigo-400">85% of your weekly goal</span>.
                    Just 2 more hours to hit your target.</p>
                <div class="hero-actions mt-8 flex gap-4">
                    <button class="btn-hero-primary" (click)="openCourse(activeCourses[0])">
                        Continue: {{ activeCourses[0].title }}
                    </button>
                    <button class="btn-hero-glass" (click)="viewAchievements()">
                        Review Progress
                    </button>
                </div>
            </div>
            <div class="hero-stats-area">
                <div class="streak-premium">
                    <div class="streak-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path
                                d="M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.5 4 6.5 2 2 3 5.5 3 8.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z" />
                        </svg>
                    </div>
                    <div class="streak-info">
                        <span class="streak-count">{{ weeklyActivity.streak }}</span>
                        <span class="streak-label">DAY STREAK</span>
                    </div>
                </div>
            </div>
        </div>
        <div class="hero-background-effects">
            <div class="glow-1"></div>
            <div class="glow-2"></div>
        </div>
    </div>

    <div class="space-grid">
        <!-- Main Content -->
        <div class="main-space">
            <!-- Learning Roadmap -->
            <section class="mb-12">
                <div class="flex justify-between items-center mb-8">
                    <div class="section-header-vibe">
                        <h2 class="text-2xl font-black text-slate-900 tracking-tight">Active Learning Pipeline</h2>
                        <p class="text-sm font-bold uppercase tracking-widest mt-1">High-Priority Operations</p>
                    </div>
                    <button class="btn-catalog-premium">
                        Catalog Browser
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24"
                            stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3"
                                d="M14 5l7 7m0 0l-7 7m7-7H3" />
                        </svg>
                    </button>
                </div>

                <div class="courses-grid">
                    <div class="course-card-premium" *ngFor="let course of activeCourses" (click)="openCourse(course)">
                        <div class="course-header"
                            [style.background]="'linear-gradient(135deg, ' + course.color + 'dd, ' + course.color + ')'">
                            <div class="floating-icon">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                                    stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5"
                                        d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z" />
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                                </svg>
                            </div>
                            <div class="status-overlay">RESUME LESSON</div>
                        </div>
                        <div class="course-details">
                            <div class="instructor-row">
                                <div class="mini-avatar"></div>
                                <span class="instructor-name">{{ course.instructor }}</span>
                            </div>
                            <h3 class="course-title">{{ course.title }}</h3>

                            <div class="premium-progress">
                                <div class="progress-info">
                                    <span class="pct">{{ course.progress }}%</span>
                                    <span class="label">Completed</span>
                                </div>
                                <div class="progress-bar-track">
                                    <div class="progress-bar-vibe" [style.width.%]="course.progress"
                                        [style.background]="course.color">
                                        <div class="bar-shimmer"></div>
                                    </div>
                                </div>
                            </div>

                            <div class="course-footer">
                                <span class="time-meta">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3" fill="none"
                                        viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5"
                                            d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                                    </svg>
                                    {{ course.lastAccessed }}
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Intelligence Recommendations -->
            <section>
                <div class="mb-8 section-header-vibe">
                    <h2 class="text-2xl font-black text-slate-900 tracking-tight">Next Frontiers</h2>
                    <p class="text-slate-400 text-sm font-bold uppercase tracking-widest mt-1">AI-Curated Paths for You
                    </p>
                </div>

                <div class="recommendation-cluster">
                    <div class="rec-glass-card" *ngFor="let rec of recommendations">
                        <div class="rec-icon-vibe">
                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"
                                stroke-linejoin="round">
                                <path
                                    d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z" />
                            </svg>
                        </div>
                        <div class="rec-main">
                            <h4 class="rec-title">{{ rec.title }}</h4>
                            <div class="rec-tags">
                                <span class="tag level">{{ rec.level }}</span>
                                <span class="tag duration">{{ rec.duration }}</span>
                                <span class="tag rating">â˜… {{ rec.rating }}</span>
                            </div>
                        </div>
                        <button class="btn-enroll-premium" (click)="enrollNow(rec)">
                            <span>Enroll</span>
                        </button>
                    </div>
                </div>
            </section>
        </div>

        <!-- Sidebar Analytics -->
        <aside class="space-sidebar">
            <!-- Data Visualization Card -->
            <div class="card-analytics-vibe mb-8">
                <div class="viz-header">
                    <h3 class="font-black text-slate-800 text-sm uppercase tracking-wider">Weekly Momentum</h3>
                </div>
                <div class="viz-content">
                    <div class="circular-viz">
                        <svg viewBox="0 0 36 36" class="circular-chart">
                            <path class="circle-bg"
                                d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" />
                            <path class="circle"
                                [style.stroke-dasharray]="(weeklyActivity.hoursSpent/weeklyActivity.goal)*100 + ', 100'"
                                d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" />
                            <text x="18" y="20.35" class="percentage">{{ weeklyActivity.hoursSpent }}h</text>
                        </svg>
                    </div>
                    <div class="viz-legend text-center mt-4">
                        <p class="text-[11px] font-bold text-slate-500">Target of {{ weeklyActivity.goal }}h Weekly</p>
                        <div class="leader-stat mt-4 p-3 bg-indigo-50 rounded-xl border border-indigo-100">
                            <span class="text-xs font-black text-indigo-600 block leading-tight">Elite Tier</span>
                            <span class="text-[10px] text-indigo-400 font-bold uppercase">Ahead of 72% of peers</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Achievement Showcase -->
            <div class="card-rewards-vibe">
                <div class="flex justify-between items-center mb-6">
                    <h3 class="font-black text-slate-800 text-sm uppercase tracking-wider">Trophy Case</h3>
                    <span class="text-[10px] font-black text-primary cursor-pointer"
                        (click)="viewAchievements()">ALL</span>
                </div>
                <div class="rewards-grid">
                    <div class="reward-item-vibe" title="Speed Learner">
                        <div class="icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon>
                            </svg>
                        </div>
                        <div class="glow"></div>
                    </div>
                    <div class="reward-item-vibe" title="Quiz Master">
                        <div class="icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <path
                                    d="M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 4.44-2.54Z" />
                                <path
                                    d="M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-4.44-2.54Z" />
                            </svg>
                        </div>
                        <div class="glow"></div>
                    </div>
                    <div class="reward-item-vibe" title="Night Owl">
                        <div class="icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <path
                                    d="M12 2c5 0 9 4 9 9 0 4.1-2.7 7.5-6.5 8.5v-2.5c2.3-.9 4-3.1 4-5.7 0-3.3-2.7-6-6-6s-6 2.7-6 6c0 2.6 1.7 4.8 4 5.7v2.5C7.7 18.5 5 15.1 5 11c0-5 4-9 9-9Z" />
                                <path d="M12 13v8" />
                                <path d="M8 17h8" />
                            </svg>
                        </div>
                        <div class="glow"></div>
                    </div>
                    <div class="reward-item-vibe empty" title="Locked Tier">
                        <div class="icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <rect width="18" height="11" x="3" y="11" rx="2" ry="2" />
                                <path d="M7 11V7a5 5 0 0 1 10 0v4" />
                            </svg>
                        </div>
                    </div>
                </div>
                <p class="text-[10px] text-center font-bold text-slate-400 mt-6 tracking-widest uppercase">Rank:
                    Guardian II</p>
            </div>
        </aside>
    </div>
</div>